┌─────────────────────────────────────────────────┐    ┌─────────────────────────────────────────────────┐
│                Host Machine                     │    │           Docker Container                      │
│                                                 │    │             (shopping)                          │
│  ┌─────────────────────┐                        │    │                                                 │
│  │       Agent         │                        │    │  ┌─────────────────────────────────────────┐    │
│  │                     │                        │    │  │             MCP Server                  │    │
│  │   Calls MCP         │                        │    │  │                                         │    │
│  │   functions         │                        │    │  │  - Reads stdin                          │    │
│  │                     │                        │    │  │  - Queries database                     │    │
│  └─────────┬───────────┘                        │    │  │  - Writes stdout                        │    │
│            │                                    │    │  │  - Stays running                        │    │
│            ▼                                    │    │  └─────────────────────────────────────────┘    │
│  ┌─────────────────────┐      stdin/stdout      │    │                                                 │
│  │     MCP Client      │◄─────────pipes─────────┼────┤                                                 │
│  │                     │                        │    │                                                 │
│  │  - JSON-RPC         │                        │    │  ┌─────────────────────────────────────────┐    │
│  │  - subprocess       │                        │    │  │            Database                     │    │
│  │  - Tool mgmt        │                        │    │  │         (MySQL/Magento)                 │    │
│  └─────────────────────┘                        │    │  └─────────────────────────────────────────┘    │
│                                                 │    │                                                 │
└─────────────────────────────────────────────────┘    └─────────────────────────────────────────────────┘
